{"ast":null,"code":"var _jsxFileName = \"/home/adam-noah/app.nextnoetics/client/src/components/UrlConverter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, forwardRef } from 'react';\nimport axios from 'axios';\nimport DraggableImages from './DraggableImages';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UrlConverter = ({\n  onConvert\n}) => {\n  _s();\n  const [url, setUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [images, setImages] = useState([]);\n  const [selectedImage, setSelectedImage] = useState('');\n  const handleConvert = async () => {\n    setLoading(true);\n    setError('');\n    setImages([]);\n    setSelectedImage('');\n    try {\n      let formattedUrl = url;\n      if (!/^https?:\\/\\//i.test(formattedUrl)) {\n        formattedUrl = 'http://' + formattedUrl;\n      }\n      const response = await axios.get(`http://localhost:3001/fetch-url?url=${encodeURIComponent(formattedUrl)}`);\n      console.log('Response data:', response.data); // Debugging: Log the response data\n\n      const {\n        images = [],\n        h1 = '',\n        h2 = ''\n      } = response.data;\n      if (images.length > 0) {\n        setImages(images); // Set the valid images for user selection\n      }\n      console.log('Extracted images:', images); // Debugging: Log the extracted images\n      console.log('Extracted h1:', h1); // Debugging: Log the extracted h1\n      console.log('Extracted h2:', h2); // Debugging: Log the extracted h2\n\n      onConvert({\n        h1: h1 || 'Default Header',\n        h2: h2 || 'Default Subtitle',\n        img: images[0] || '/default-image.jpg'\n      });\n    } catch (err) {\n      console.error('Error:', err); // Debugging: Log the error\n      setError('Failed to fetch the URL. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleImageSelect = src => {\n    setSelectedImage(src);\n    onConvert({\n      h1: 'Default Header',\n      h2: 'Default Subtitle',\n      img: src\n    });\n  };\n  useEffect(() => {\n    if (selectedImage) {\n      onConvert({\n        h1: 'Default Header',\n        h2: 'Default Subtitle',\n        img: selectedImage\n      });\n    }\n  }, [selectedImage, onConvert]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-1 items-center justify-start py-2 px-3 bg-gray-950 w-min h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-white text-sm font-semibold\",\n      children: \"URL to SMM Card Generator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: url,\n      onChange: e => setUrl(e.target.value),\n      placeholder: \"Enter website URL\",\n      className: \"border border-gray-300 rounded-md py-[1.75px] px-2 w-fit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleConvert,\n      className: \"btn-gradient text-white py-[1.75px] px-4 rounded\",\n      disabled: loading,\n      children: loading ? 'Converting...' : 'Convert'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 mt-2\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-white text-sm font-semibold\",\n        children: \"Select an Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 mt-2\",\n        children: images.map((src, index) => /*#__PURE__*/_jsxDEV(DraggableImages, {\n          src: src,\n          alt: `Option ${index + 1}`,\n          className: `w-24 h-24 object-cover cursor-pointer ${selectedImage === src ? 'border-2 border-blue-500' : 'border'}`,\n          onClick: () => handleImageSelect(src)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(UrlConverter, \"/hiKkoS4dDPxl6FnF1S43hpiHHA=\");\n_c = UrlConverter;\nexport default UrlConverter;\nvar _c;\n$RefreshReg$(_c, \"UrlConverter\");","map":{"version":3,"names":["React","useState","useEffect","forwardRef","axios","DraggableImages","jsxDEV","_jsxDEV","UrlConverter","onConvert","_s","url","setUrl","loading","setLoading","error","setError","images","setImages","selectedImage","setSelectedImage","handleConvert","formattedUrl","test","response","get","encodeURIComponent","console","log","data","h1","h2","length","img","err","handleImageSelect","src","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","disabled","map","index","alt","_c","$RefreshReg$"],"sources":["/home/adam-noah/app.nextnoetics/client/src/components/UrlConverter.jsx"],"sourcesContent":["import React, { useState, useEffect, forwardRef } from 'react';\nimport axios from 'axios';\nimport DraggableImages from './DraggableImages';\n\nconst UrlConverter = ({ onConvert }) => {\n  const [url, setUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [images, setImages] = useState([]);\n  const [selectedImage, setSelectedImage] = useState('');\n\n  const handleConvert = async () => {\n    setLoading(true);\n    setError('');\n    setImages([]);\n    setSelectedImage('');\n\n    try {\n      let formattedUrl = url;\n      if (!/^https?:\\/\\//i.test(formattedUrl)) {\n        formattedUrl = 'http://' + formattedUrl;\n      }\n\n      const response = await axios.get(`http://localhost:3001/fetch-url?url=${encodeURIComponent(formattedUrl)}`);\n      console.log('Response data:', response.data); // Debugging: Log the response data\n\n      const { images = [], h1 = '', h2 = '' } = response.data;\n      if (images.length > 0) {\n        setImages(images); // Set the valid images for user selection\n      }\n\n      console.log('Extracted images:', images); // Debugging: Log the extracted images\n      console.log('Extracted h1:', h1); // Debugging: Log the extracted h1\n      console.log('Extracted h2:', h2); // Debugging: Log the extracted h2\n\n      onConvert({ h1: h1 || 'Default Header', h2: h2 || 'Default Subtitle', img: images[0] || '/default-image.jpg' });\n    } catch (err) {\n      console.error('Error:', err); // Debugging: Log the error\n      setError('Failed to fetch the URL. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleImageSelect = (src) => {\n    setSelectedImage(src);\n    onConvert({ h1: 'Default Header', h2: 'Default Subtitle', img: src });\n  };\n\n  useEffect(() => {\n    if (selectedImage) {\n      onConvert({ h1: 'Default Header', h2: 'Default Subtitle', img: selectedImage });\n    }\n  }, [selectedImage, onConvert]);\n\n  return (\n    <div className=\"flex flex-col gap-1 items-center justify-start py-2 px-3 bg-gray-950 w-min h-full\">\n      <h1 className='text-white text-sm font-semibold'>URL to SMM Card Generator</h1>\n\n      <input\n        type=\"text\"\n        value={url}\n        onChange={(e) => setUrl(e.target.value)}\n        placeholder=\"Enter website URL\"\n        className=\"border border-gray-300 rounded-md py-[1.75px] px-2 w-fit\"\n      />\n      <button\n        onClick={handleConvert}\n        className=\"btn-gradient text-white py-[1.75px] px-4 rounded\"\n        disabled={loading}\n      >\n        {loading ? 'Converting...' : 'Convert'}\n      </button>\n      {error && <p className=\"text-red-500 mt-2\">{error}</p>}\n\n      {images.length > 0 && (\n        <div className=\"mt-4\">\n          <h2 className=\"text-white text-sm font-semibold\">Select an Image</h2>\n          <div className=\"flex flex-wrap gap-2 mt-2\">\n            {images.map((src, index) => (\n              <DraggableImages\n                key={index}\n                src={src}\n                alt={`Option ${index + 1}`}\n                className={`w-24 h-24 object-cover cursor-pointer ${selectedImage === src ? 'border-2 border-blue-500' : 'border'}`}\n                onClick={() => handleImageSelect(src)}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UrlConverter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}